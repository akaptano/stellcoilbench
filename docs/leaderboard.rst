StellCoilBench Leaderboard
===========================

The StellCoilBench leaderboard provides a comprehensive comparison of coil optimization
methods across different plasma surfaces. Each submission is evaluated using standardized
metrics that measure both the quality of the magnetic field produced and the engineering
feasibility of the coil designs.

.. note::
   This page is automatically regenerated by CI after each successful submission.
   For local development, run ``stellcoilbench update-db`` to refresh the leaderboard.

Metric Definitions
==================

The following metrics are used to evaluate coil optimization submissions:

**Field Quality Metrics:**

  - Normalized squared flux error :math:`f_B = \frac{1}{|S|} \int_{S} \left(\frac{\mathbf{B} \cdot \mathbf{n}}{|\mathbf{B}|}\right)^2 dS` on plasma surface (dimensionless)
  - Average normalized normal field component :math:`\frac{\int_{S} |\mathbf{B} \cdot \mathbf{n}| dS}{\int_{S} |\mathbf{B}| dS}` (dimensionless)
  - Maximum normalized normal field component :math:`\max\left(\frac{|\mathbf{B} \cdot \mathbf{n}|}{|\mathbf{B}|}\right)` (dimensionless)

**Coil Geometry Metrics:**

  - Fourier order :math:`n` of coil representation: :math:`\mathbf{r}(\phi) = \sum_{m=-n}^{n} \mathbf{c}_m e^{im\phi}` (dimensionless)
  - Variance of incremental arclength :math:`J = \text{Var}(l_i)` where :math:`l_i` is the average incremental arclength on interval :math:`I_i` from a partition :math:`\{I_i\}_{i=1}^L` of :math:`[0,1]` (:math:`\text{m}^2`)
  - Mean curvature :math:`\bar{\kappa} = \frac{1}{N} \sum_{i=1}^{N} \kappa_i` over all coils, where :math:`\kappa_i = |\mathbf{r}''(s)|` (:math:`\text{m}^{-1}`)
  - Maximum curvature :math:`\max(\kappa)` across all coils (:math:`\text{m}^{-1}`)
  - Mean squared curvature :math:`\text{MSC} = \frac{1}{N} \sum_{i=1}^{N} \kappa_i^2` (:math:`\text{m}^{-2}`)
  - Total length :math:`L = \sum_{i=1}^{N} \int_{0}^{L_i} ds` of all coils (:math:`\text{m}`)
  - **Fourier continuation (FC)**: Sequence of Fourier orders used in continuation method. The optimization starts with a low-order representation, converges, then extends the solution to higher orders using the previous solution as initial condition. This helps achieve convergence for complex problems. Format: comma-separated list of orders (e.g., \"4,6,8\" means optimization was performed at orders 4, 6, and 8 sequentially). If not used, the column shows \"—\".
  - Number of base coils :math:`N` (before applying stellarator symmetry) (dimensionless)

**Separation Metrics:**

  - Minimum coil-to-coil distance :math:`\min(d_{cc})` (:math:`\text{m}`)
  - Minimum coil-to-surface distance :math:`\min(d_{cs})` (:math:`\text{m}`)

**Force and Torque Metrics:**

  - Average of maximum force :math:`\bar{F} = \frac{1}{N} \sum_{i=1}^{N} \max(|\mathbf{F}_i|)` per coil (:math:`\text{N}/\text{m}`)
  - Average of maximum torque :math:`\bar{\tau} = \frac{1}{N} \sum_{i=1}^{N} \max(|\boldsymbol{\tau}_i|)` per coil (:math:`\text{N}`)
  - Maximum force magnitude :math:`\max(F)` across all coils (:math:`\text{N}/\text{m}`)
  - Maximum torque magnitude :math:`\max(\tau)` across all coils (:math:`\text{N}`)

**Topology Metrics:**

  - Linking number :math:`\text{LN} = \frac{1}{4\pi} \sum_{i \neq j} \oint_{C_i} \oint_{C_j} \frac{(\mathbf{r}_i - \mathbf{r}_j) \cdot (d\mathbf{r}_i \times d\mathbf{r}_j)}{|\mathbf{r}_i - \mathbf{r}_j|^3}` between coil pairs (dimensionless)

**Performance Metrics:**

  - Total optimization time :math:`t` (:math:`\text{s}`)

**Visualization Links:**

  - :math:`i`: Link to 3D visualization plot showing :math:`B_N/|B|` error on plasma surface with initial (pre-optimization) coils
  - :math:`f`: Link to 3D visualization plot showing :math:`B_N/|B|` error on plasma surface with final (optimized) coils

Surface-Specific Leaderboards
===============================

Each plasma surface presents unique challenges for coil optimization. The following
tables show detailed results for each surface, allowing for direct comparison
of methods on specific configurations.

.. _landremanpaul2021-qa:

Landreman-Paul QA
^^^^^^^^^^^^^^^^^

**Surface file:** ``LandremanPaul2021_QA``

This surface has 1 submission(s).
Typical configuration: 4 Fourier order, 4 base coils.

.. list-table:: Landreman-Paul QA Leaderboard
   :header-rows: 1
   :widths: auto

   * - :math:`N`
     - :math:`n`
     - :math:`\text{FC}`
     - :math:`f_{B}`
     - :math:`\text{avg}\langle B_n \rangle / \langle B \rangle`
     - :math:`\max(\langle B_n \rangle / \langle B \rangle)`
     - :math:`L`
     - :math:`\mathrm{Var}(l_i)`
     - :math:`\min(d_{cc})`
     - :math:`\min(d_{cs})`
     - :math:`\bar{\kappa}`
     - :math:`MSC`
     - :math:`\bar{F}`
     - :math:`\bar{\tau}`
     - :math:`\max(F)`
     - :math:`\max(\tau)`
     - :math:`LN`
     - :math:`t`
     - :math:`\max(\kappa)`
     - Date
     - User
     - i
     - f
   * - 4
     - 4
     - —
     - 2.7e-02
     - 2.0e-01
     - 9.6e-01
     - 1.4e+01
     - 1.9e-01
     - 2.5e-01
     - 1.7e-02
     - 2.2e+00
     - 5.9e+00
     - 2.2e+05
     - 5.9e+04
     - 2.6e+05
     - 7.1e+04
     - 0
     - 8.3e+00
     - 4.9e+00
     - 22/01/26
     - akaptano
     - `1 <../../../submissions/LandremanPaul2021_QA/akaptano/01-22-2026_18-11/bn_error_3d_plot_initial.pdf>`__
     - `1 <../../../submissions/LandremanPaul2021_QA/akaptano/01-22-2026_18-11/bn_error_3d_plot.pdf>`__


.. _cfqs-2b40:

CFQS
^^^^

**Surface file:** ``cfqs_2b40``

This surface has 1 submission(s).
Typical configuration: 4 Fourier order, 4 base coils.

.. list-table:: CFQS Leaderboard
   :header-rows: 1
   :widths: auto

   * - :math:`N`
     - :math:`n`
     - :math:`\text{FC}`
     - :math:`f_{B}`
     - :math:`\text{avg}\langle B_n \rangle / \langle B \rangle`
     - :math:`\max(\langle B_n \rangle / \langle B \rangle)`
     - :math:`L`
     - :math:`\mathrm{Var}(l_i)`
     - :math:`\min(d_{cc})`
     - :math:`\min(d_{cs})`
     - :math:`\bar{\kappa}`
     - :math:`MSC`
     - :math:`\bar{F}`
     - :math:`\bar{\tau}`
     - :math:`\max(F)`
     - :math:`\max(\tau)`
     - :math:`LN`
     - :math:`t`
     - :math:`\max(\kappa)`
     - Date
     - User
     - i
     - f
   * - 4
     - 4
     - —
     - 1.7e-02
     - 1.6e-01
     - 4.3e-01
     - 1.8e+01
     - 4.9e-02
     - 9.6e-03
     - 2.0e-01
     - 1.5e+00
     - 2.3e+00
     - 1.4e+06
     - 8.4e+05
     - 3.5e+06
     - 2.0e+06
     - 0
     - 1.6e+00
     - 2.0e+00
     - 22/01/26
     - akaptano
     - `1 <../../../submissions/cfqs_2b40/akaptano/01-22-2026_17-43/bn_error_3d_plot_initial.pdf>`__
     - `1 <../../../submissions/cfqs_2b40/akaptano/01-22-2026_17-43/bn_error_3d_plot.pdf>`__


.. _rotating-ellipse:

Rotating Ellipse
^^^^^^^^^^^^^^^^

**Surface file:** ``rotating_ellipse``

This surface has 1 submission(s).
Typical configuration: 4 Fourier order, 4 base coils.

.. list-table:: Rotating Ellipse Leaderboard
   :header-rows: 1
   :widths: auto

   * - :math:`N`
     - :math:`n`
     - :math:`\text{FC}`
     - :math:`f_{B}`
     - :math:`\text{avg}\langle B_n \rangle / \langle B \rangle`
     - :math:`\max(\langle B_n \rangle / \langle B \rangle)`
     - :math:`L`
     - :math:`\mathrm{Var}(l_i)`
     - :math:`\min(d_{cc})`
     - :math:`\min(d_{cs})`
     - :math:`\bar{\kappa}`
     - :math:`MSC`
     - :math:`\bar{F}`
     - :math:`\bar{\tau}`
     - :math:`\max(F)`
     - :math:`\max(\tau)`
     - :math:`LN`
     - :math:`t`
     - :math:`\max(\kappa)`
     - Date
     - User
     - i
     - f
   * - 4
     - 4
     - —
     - 7.2e-02
     - 2.9e-01
     - 7.1e-01
     - 8.9e+01
     - 7.7e+00
     - 3.1e-03
     - 9.0e-01
     - 3.2e-01
     - 1.4e-01
     - 3.0e+08
     - 8.4e+08
     - 9.8e+08
     - 2.6e+09
     - 0
     - 2.9e+00
     - 1.1e+00
     - 22/01/26
     - akaptano
     - `1 <../../../submissions/rotating_ellipse/akaptano/01-22-2026_18-16/bn_error_3d_plot_initial.pdf>`__
     - `1 <../../../submissions/rotating_ellipse/akaptano/01-22-2026_18-16/bn_error_3d_plot.pdf>`__



.. note::
   Last updated: run ``stellcoilbench update-db`` to refresh locally.
